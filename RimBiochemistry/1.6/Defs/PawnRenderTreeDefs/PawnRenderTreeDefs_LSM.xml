<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- 落枢梦种族专用渲染树定义 -->
  <PawnRenderTreeDef>
    <defName>Luoshumeng</defName>
    <root Class="PawnRenderNodeProperties_Parent">
      <debugLabel>Root</debugLabel>
      <tagDef>Root</tagDef>
      <children>
        <li>
          <debugLabel>Body</debugLabel>
          <nodeClass>PawnRenderNode_Body</nodeClass>
          <workerClass>PawnRenderNodeWorker_Body</workerClass>
          <tagDef>Body</tagDef>
          <skipFlag>Body</skipFlag>
          <colorType>Skin</colorType>
          <useRottenColor>true</useRottenColor>
          <useSkinShader>true</useSkinShader>
          <children>
            <!-- 身体纹身层（需要意识形态DLC） -->
            <li Class="PawnRenderNodeProperties_Tattoo" MayRequire="Ludeon.RimWorld.Ideology">
              <debugLabel>Body tattoo</debugLabel>
              <nodeClass>PawnRenderNode_Tattoo_Body</nodeClass>
              <workerClass>PawnRenderNodeWorker_Body_Tattoo</workerClass>
              <colorType>Skin</colorType>
              <useRottenColor>true</useRottenColor>
              <baseLayer>2</baseLayer>
              <rotDrawMode>Fresh, Rotting</rotDrawMode>
            </li>
            <!-- 婴儿襁褓层（需要生物技术DLC） -->
            <li Class="PawnRenderNodeProperties_Swaddle" MayRequire="Ludeon.RimWorld.Biotech">
              <debugLabel>Baby swaddle</debugLabel>
              <nodeClass>PawnRenderNode_Swaddle</nodeClass>
              <workerClass>PawnRenderNodeWorker_Swaddle</workerClass>
              <texPath>Things/Pawn/Humanlike/Apparel/SwaddledBaby/Swaddled_Child</texPath>
              <swaddleColorOffset>0.1</swaddleColorOffset>
              <brightnessRange>0.6~0.89</brightnessRange>
              <baseLayer>10</baseLayer>
            </li>
            <!-- 服装根节点 -->
            <li Class="PawnRenderNodeProperties_Parent">
              <debugLabel>Apparel root</debugLabel>
              <tagDef>ApparelBody</tagDef>
              <baseLayer>20</baseLayer>
            </li>
            <!-- 灭火泡沫覆盖层 -->
            <li Class="PawnRenderNodeProperties_Overlay">
              <debugLabel>Firefoam</debugLabel>
              <workerClass>PawnRenderNodeWorker_OverlayFirefoam</workerClass>
              <overlayLayer>Body</overlayLayer>
              <baseLayer>40</baseLayer>
            </li>
          </children>
        </li>

        <!-- 头部残肢（无头时显示） -->
        <li>
          <debugLabel>Head stump</debugLabel>
          <nodeClass>PawnRenderNode_Stump</nodeClass>
          <workerClass>PawnRenderNodeWorker_Stump</workerClass>
          <texPath>Things/Pawn/Humanlike/Heads/None_Average_Stump</texPath>
          <baseLayer>50</baseLayer>
          <colorType>Skin</colorType>
          <skipFlag>Head</skipFlag>
          <useSkinShader>true</useSkinShader>
          <useRottenColor>true</useRottenColor>
          <rotDrawMode>Fresh, Rotting</rotDrawMode>
        </li>

        <!-- 头部基础 -->
        <li>
          <debugLabel>Head</debugLabel>
          <nodeClass>PawnRenderNode_Head</nodeClass>
          <workerClass>PawnRenderNodeWorker_Head</workerClass>
          <tagDef>Head</tagDef>
          <skipFlag>Head</skipFlag>
          <baseLayer>50</baseLayer>
          <colorType>Skin</colorType>
          <useRottenColor>true</useRottenColor>
          <useSkinShader>true</useSkinShader>
          <children>
            <!-- 头部纹身层（需要意识形态DLC） -->
            <li Class="PawnRenderNodeProperties_Tattoo" MayRequire="Ludeon.RimWorld.Ideology">
              <debugLabel>Head tattoo</debugLabel>
              <nodeClass>PawnRenderNode_Tattoo_Head</nodeClass>
              <workerClass>PawnRenderNodeWorker_Tattoo_Head</workerClass>
              <rotDrawMode>Fresh, Rotting</rotDrawMode>
              <colorType>Skin</colorType>
              <baseLayer>52</baseLayer>
            </li>
            <!-- 胡须层 -->
            <li>
              <debugLabel>Beard</debugLabel>
              <nodeClass>PawnRenderNode_Beard</nodeClass>
              <workerClass>PawnRenderNodeWorker_Beard</workerClass>
              <rotDrawMode>Fresh, Rotting</rotDrawMode>
              <colorType>Hair</colorType>
              <skipFlag>Beard</skipFlag>
              <baseLayer>60</baseLayer>
            </li>
            <!-- 头发层 -->
            <li>
              <debugLabel>Hair</debugLabel>
              <nodeClass>PawnRenderNode_Hair</nodeClass>
              <workerClass>PawnRenderNodeWorker_FlipWhenCrawling</workerClass>
              <rotDrawMode>Fresh, Rotting</rotDrawMode>
              <colorType>Hair</colorType>
              <skipFlag>Hair</skipFlag>
              <baseLayer>62</baseLayer>
            </li>
            <!-- 头部服装根节点 -->
            <li Class="PawnRenderNodeProperties_Parent">
              <debugLabel>Apparel root</debugLabel>
              <tagDef>ApparelHead</tagDef>
              <baseLayer>70</baseLayer>
            </li>
            <!-- 灭火泡沫覆盖层 -->
            <li Class="PawnRenderNodeProperties_Overlay">
              <debugLabel>Firefoam</debugLabel>
              <workerClass>PawnRenderNodeWorker_OverlayFirefoam</workerClass>
              <overlayLayer>Head</overlayLayer>
              <baseLayer>85</baseLayer>
            </li>
            <!-- 状态效果覆盖层 -->
            <li Class="PawnRenderNodeProperties_Overlay">
              <debugLabel>Status overlay</debugLabel>
              <workerClass>PawnRenderNodeWorker_OverlayStatus</workerClass>
              <baseLayer>100</baseLayer>
            </li>
          </children>
        </li>

        <!-- 携带物品/武器 -->
        <li Class="PawnRenderNodeProperties_Carried">
          <debugLabel>Weapon/carried thing</debugLabel>
          <workerClass>PawnRenderNodeWorker_Carried</workerClass>
        </li>
      </children>
    </root>
  </PawnRenderTreeDef>
</Defs> 