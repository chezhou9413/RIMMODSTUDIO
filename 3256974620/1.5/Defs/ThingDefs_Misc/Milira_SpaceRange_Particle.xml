<?xml version="1.0" encoding="utf-8" ?><Defs><ThingDef Name="MiliraBullet_ParticleBase" ParentName="BaseBullet" Abstract="true"><projectile><damageDef>Bullet</damageDef><damageAmountBase>15</damageAmountBase><armorPenetrationBase>0.18</armorPenetrationBase><stoppingPower>1.5</stoppingPower><speed>100</speed></projectile><graphicData><texPath>Milira/ProjectileNew/Bullet_Particle</texPath><graphicClass>Graphic_Single</graphicClass><shaderType>TransparentPostLight</shaderType></graphicData></ThingDef><ThingDef ParentName="Milian_BaseMakeableGun"><defName>Milian_ParticleSMG</defName><label>Particle SMG</label><description>A portable emitter capable of continuously firing particle beams, commonly used in urban combat with complex terrain. It can switch between rapid mode and blast mode. When switched to rapid mode, firing does not consume charge.</description><techLevel>Spacer</techLevel><graphicData><texPath>Milian/Weapon/ParticleSMG</texPath><graphicClass>Graphic_Single</graphicClass><drawSize>1.2</drawSize></graphicData><tradeability>None</tradeability><smeltable>true</smeltable><relicChance>0</relicChance><generateCommonality>0.8</generateCommonality><statBases><Mass>2.8</Mass><WorkToMake>18000</WorkToMake><AccuracyTouch>0.75</AccuracyTouch><AccuracyShort>0.68</AccuracyShort><AccuracyMedium>0.52</AccuracyMedium><AccuracyLong>0.32</AccuracyLong><RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown><Ancot_WeaponMaxCharge>1</Ancot_WeaponMaxCharge><Ancot_WeaponChargeTick>1200</Ancot_WeaponChargeTick><Ancot_EnergyWeaponCorrectionFactor>1</Ancot_EnergyWeaponCorrectionFactor><Ancot_EnergyWeaponResetTime>1200</Ancot_EnergyWeaponResetTime></statBases><costList><Milira_SunPlateSteel>10</Milira_SunPlateSteel><Milira_SplendidSteel>50</Milira_SplendidSteel><Milira_SolarCrystal>2</Milira_SolarCrystal><ComponentIndustrial>3</ComponentIndustrial></costList><recipeMaker><researchPrerequisite>Milira_ParticleAcceleratorII</researchPrerequisite></recipeMaker><weaponTags><li>Milian_ParticleSMG</li></weaponTags><weaponClasses><li>RangedHeavy</li></weaponClasses><verbs><li Class="AncotLibrary.VerbProperties_Custom"><verbClass>AncotLibrary.Verb_ChargeShoot</verbClass><isPrimary>true</isPrimary><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MiliraBullet_ParticleSMG</defaultProjectile><warmupTime>1.5</warmupTime><range>21.9</range><chargeCostPerBurstShot>0</chargeCostPerBurstShot><burstShotCount>4</burstShotCount><ticksBetweenBurstShots>5</ticksBetweenBurstShots><soundCast>Milira_Shot_ParticlePulse</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>2</muzzleFlashScale></li></verbs><tools><li><label>Barrel</label><capacities><li>Blunt</li></capacities><power>8</power><cooldownTime>1.5</cooldownTime><armorPenetration>0.2</armorPenetration></li></tools><comps><li Class="AncotLibrary.CompProperties_RangeWeaponVerbSwitch"><gizmoOrder>0</gizmoOrder><gizmoLabel1>rapid mode</gizmoLabel1><gizmoLabel2>blast mode</gizmoLabel2><gizmoDesc1>Switch to blast mode.</gizmoDesc1><gizmoDesc2>Switch to rapid mode.</gizmoDesc2><aiInitialSwitchChance>0.5</aiInitialSwitchChance><verbProps Class="AncotLibrary.VerbProperties_Custom"><verbClass>AncotLibrary.Verb_ChargeShoot</verbClass><isPrimary>true</isPrimary><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MilianBullet_ParticleBeamBlasterCharged</defaultProjectile><warmupTime>1.8</warmupTime><range>21.9</range><targetParams><canTargetLocations>true</canTargetLocations></targetParams><bulletPerBurstShot>1</bulletPerBurstShot><burstShotCount>1</burstShotCount><ticksBetweenBurstShots>0</ticksBetweenBurstShots><forcedMissRadius>2.5</forcedMissRadius><soundCast>Milira_Shot_HeavyPlasma</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>6</muzzleFlashScale><ai_AvoidFriendlyFireRadius>4</ai_AvoidFriendlyFireRadius></verbProps></li><li Class="AncotLibrary.CompProperties_WeaponCharge"><projectileCharged>MiliraBullet_ParticleSMG</projectileCharged><projectileCharged_Switched>MiliraBullet_ExplosiveParticle</projectileCharged_Switched><chargeFireEffecter>Milira_ParticleChargeFire_Forward</chargeFireEffecter><ai_SwitchSecondVerbOnlyIfChargeNotEmpty>true</ai_SwitchSecondVerbOnlyIfChargeNotEmpty><chargeOnResetRatio>1.0</chargeOnResetRatio><barColor>(0.86,0.87,0.70,0.8)</barColor></li></comps></ThingDef><ThingDef ParentName="MiliraBullet_ParticleBase"><defName>MiliraBullet_ParticleSMG</defName><label>particle beam</label><projectile><damageDef>Bullet</damageDef><damageAmountBase>12</damageAmountBase><armorPenetrationBase>0.15</armorPenetrationBase><stoppingPower>0.5</stoppingPower><speed>90</speed></projectile></ThingDef><ThingDef ParentName="BaseBullet"><defName>MiliraBullet_ExplosiveParticle</defName><label>explosive particle</label><thingClass>AncotLibrary.Projectile_ExplosiveWithTrail</thingClass><projectile><damageDef>Milira_ParticleBomb</damageDef><explosionRadius>2.5</explosionRadius><damageAmountBase>42</damageAmountBase><armorPenetrationBase>0.35</armorPenetrationBase><stoppingPower>2.4</stoppingPower><speed>125</speed></projectile><graphicData><texPath>Milira/ProjectileNew/Bullet_ParticleExplode</texPath><graphicClass>Graphic_Single</graphicClass><drawSize>(1.5,1.5)</drawSize><shaderType>TransparentPostLight</shaderType></graphicData><modExtensions><li Class="AncotLibrary.ExplosiveProjectileExtension"><doTrail>true</doTrail><trailFleck>Milira_AirPuffGlow</trailFleck><trailFreauency>1</trailFreauency><trailColor>(0.86,0.87,0.70)</trailColor></li></modExtensions></ThingDef><ThingDef ParentName="Milian_BaseMakeableGun"><defName>Milian_ParticleDiffusionBlaster</defName><label>Particle Diffusion Blaster</label><description>A portable emitter that unleashes short-range particle bursts at close distance. It can switch between diffusion mode and salvo mode. When switched to scatter mode, firing consumes all remaining energy at once to release a large number of particle clusters.</description><techLevel>Spacer</techLevel><graphicData><texPath>Milian/Weapon/ParticleDiffusionBlaster</texPath><graphicClass>Graphic_Single</graphicClass><drawSize>1.2</drawSize></graphicData><tradeability>None</tradeability><smeltable>true</smeltable><relicChance>0</relicChance><generateCommonality>0.5</generateCommonality><statBases><Mass>3.8</Mass><WorkToMake>18000</WorkToMake><AccuracyTouch>0.55</AccuracyTouch><AccuracyShort>0.52</AccuracyShort><AccuracyMedium>0.48</AccuracyMedium><AccuracyLong>0.01</AccuracyLong><RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown><Ancot_WeaponMaxCharge>18</Ancot_WeaponMaxCharge><Ancot_WeaponChargeTick>220</Ancot_WeaponChargeTick><Ancot_EnergyWeaponCorrectionFactor>1</Ancot_EnergyWeaponCorrectionFactor><Ancot_EnergyWeaponResetTime>1800</Ancot_EnergyWeaponResetTime></statBases><costList><Milira_SunPlateSteel>15</Milira_SunPlateSteel><Milira_SplendidSteel>40</Milira_SplendidSteel><Milira_SolarCrystal>2</Milira_SolarCrystal><ComponentIndustrial>4</ComponentIndustrial></costList><recipeMaker><researchPrerequisite>Milira_ParticleAcceleratorII</researchPrerequisite></recipeMaker><weaponTags><li>Milian_ParticleDiffusionBlaster</li></weaponTags><weaponClasses><li>RangedHeavy</li></weaponClasses><verbs><li Class="AncotLibrary.VerbProperties_Custom"><verbClass>AncotLibrary.Verb_ChargeShootMultiple_FullCharge</verbClass><isPrimary>true</isPrimary><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MilianBullet_ParticleBeamGun</defaultProjectile><warmupTime>1.5</warmupTime><range>14.9</range><bulletPerBurstShot>6</bulletPerBurstShot><burstShotCount>1</burstShotCount><ticksBetweenBurstShots>6</ticksBetweenBurstShots><soundCast>Milira_Shot_HeavyPlasma</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>2</muzzleFlashScale></li></verbs><tools><li><label>Barrel</label><capacities><li>Blunt</li></capacities><power>8</power><cooldownTime>1.5</cooldownTime><armorPenetration>0.2</armorPenetration></li></tools><comps><li Class="AncotLibrary.CompProperties_RangeWeaponVerbSwitch"><gizmoOrder>0</gizmoOrder><gizmoLabel1>diffusion mode</gizmoLabel1><gizmoLabel2>salvo mode</gizmoLabel2><gizmoDesc1>Switch to salvo mode.</gizmoDesc1><gizmoDesc2>Switch to diffusion mode.</gizmoDesc2><aiInitialSwitchChance>0.5</aiInitialSwitchChance><verbProps Class="AncotLibrary.VerbProperties_Custom"><verbClass>AncotLibrary.Verb_ChargeShootMultiple_FullCharge</verbClass><isPrimary>true</isPrimary><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MilianBullet_ParticleBeamBlaster</defaultProjectile><warmupTime>1.8</warmupTime><range>14.9</range><targetParams><canTargetLocations>true</canTargetLocations></targetParams><fullChargeShot>true</fullChargeShot><bulletPerBurstShot>3</bulletPerBurstShot><burstShotCount>1</burstShotCount><ticksBetweenBurstShots>0</ticksBetweenBurstShots><forcedMissRadius>3.0</forcedMissRadius><soundCast>Milira_Shot_HeavyPlasma</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>6</muzzleFlashScale><ai_AvoidFriendlyFireRadius>4</ai_AvoidFriendlyFireRadius></verbProps></li><li Class="AncotLibrary.CompProperties_WeaponCharge"><projectileCharged>MiliraBullet_ParticleRifle</projectileCharged><projectileCharged_Switched>MilianBullet_ParticleBeamBlasterCharged</projectileCharged_Switched><chargeFireEffecter>Milira_ParticleChargeFire_Forward</chargeFireEffecter><chargeOnResetRatio>1.0</chargeOnResetRatio><barColor>(0.86,0.87,0.70,0.8)</barColor></li></comps></ThingDef><ThingDef ParentName="MiliraBullet_ParticleBase"><defName>MiliraBullet_ParticleRifle</defName><label>particle beam</label></ThingDef><ThingDef ParentName="Milian_BaseMakeableGun"><defName>Milian_ParticleLMG</defName><label>Particle LMG</label><description>A portable emitter capable of continuously firing particle beams, suitable for suppressive fire. When the weapon has energy, the weapon's warm-up time is significantly reduced.</description><techLevel>Spacer</techLevel><graphicData><texPath>Milian/Weapon/ParticleLMG</texPath><graphicClass>Graphic_Single</graphicClass><drawSize>1.2</drawSize></graphicData><tradeability>None</tradeability><smeltable>true</smeltable><relicChance>0</relicChance><generateCommonality>0.3</generateCommonality><statBases><Mass>7.6</Mass><WorkToMake>32000</WorkToMake><AccuracyTouch>0.45</AccuracyTouch><AccuracyShort>0.32</AccuracyShort><AccuracyMedium>0.28</AccuracyMedium><AccuracyLong>0.25</AccuracyLong><RangedWeapon_Cooldown>2.2</RangedWeapon_Cooldown><Ancot_WeaponMaxCharge>50</Ancot_WeaponMaxCharge><Ancot_WeaponChargeTick>180</Ancot_WeaponChargeTick><Ancot_EnergyWeaponCorrectionFactor>1</Ancot_EnergyWeaponCorrectionFactor><Ancot_EnergyWeaponResetTime>2400</Ancot_EnergyWeaponResetTime></statBases><costList><Milira_SunPlateSteel>30</Milira_SunPlateSteel><Milira_SplendidSteel>150</Milira_SplendidSteel><Milira_SolarCrystal>4</Milira_SolarCrystal><ComponentIndustrial>12</ComponentIndustrial></costList><recipeMaker><researchPrerequisite>Milira_ParticleAcceleratorIII</researchPrerequisite></recipeMaker><weaponTags><li>Milian_ParticleLMG</li></weaponTags><weaponClasses><li>RangedHeavy</li></weaponClasses><verbs><li Class="AncotLibrary.VerbProperties_Custom"><verbClass>AncotLibrary.Verb_ChargeShoot</verbClass><isPrimary>true</isPrimary><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MiliraBullet_ParticleLMG</defaultProjectile><warmupTime>2.8</warmupTime><range>31.9</range><burstShotCount>10</burstShotCount><ticksBetweenBurstShots>3</ticksBetweenBurstShots><soundCast>Milira_Shot_PlasmaRifle</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>2</muzzleFlashScale></li></verbs><tools><li><label>Barrel</label><capacities><li>Blunt</li></capacities><power>12</power><cooldownTime>1.5</cooldownTime><armorPenetration>0.2</armorPenetration></li></tools><comps><li Class="AncotLibrary.CompProperties_RangeWeaponVerbSwitch_EnergyPassive"><verbProps Class="AncotLibrary.VerbProperties_Custom"><label>rapid mode</label><verbClass>AncotLibrary.Verb_ChargeShoot</verbClass><isPrimary>true</isPrimary><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MiliraBullet_ParticleLMGCharged</defaultProjectile><warmupTime>0.8</warmupTime><range>31.9</range><burstShotCount>10</burstShotCount><ticksBetweenBurstShots>6</ticksBetweenBurstShots><soundCast>Milira_Shot_ParticlePulse</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>2</muzzleFlashScale></verbProps></li><li Class="AncotLibrary.CompProperties_WeaponCharge"><projectileCharged>MiliraBullet_ParticleLMGCharged</projectileCharged><chargeFireEffecter>Milira_ParticleChargeFire_Forward</chargeFireEffecter><chargeOnResetRatio>1.0</chargeOnResetRatio><barColor>(0.86,0.87,0.70,0.8)</barColor></li></comps></ThingDef><ThingDef Name="MiliraBullet_ParticleLMG" ParentName="MiliraBullet_ParticleBase"><defName>MiliraBullet_ParticleLMG</defName><label>particle beam</label><projectile><damageDef>Bullet</damageDef><damageAmountBase>6</damageAmountBase><armorPenetrationBase>0.1</armorPenetrationBase><stoppingPower>0.5</stoppingPower><speed>95</speed></projectile></ThingDef><ThingDef ParentName="MiliraBullet_ParticleLMG"><defName>MiliraBullet_ParticleLMGCharged</defName><projectile><damageAmountBase>12</damageAmountBase><armorPenetrationBase>0.15</armorPenetrationBase><stoppingPower>0.5</stoppingPower><speed>115</speed></projectile><graphicData><shaderType>MoteGlow</shaderType><drawSize>1.2</drawSize></graphicData></ThingDef><!-- <ThingDef Name="Milira_StandardParticleWeaponBase" ParentName="BaseMakeableGun" Abstract="True"><recipeMaker><researchPrerequisite>Milira_StandardParticleWeapon</researchPrerequisite><recipeUsers Inherit="false"><li>Milira_SunBlastFurnace</li></recipeUsers></recipeMaker><weaponTags><li>Milira_StandardParticleWeapon</li></weaponTags><tradeability>None</tradeability></ThingDef><ThingDef Name="Milira_HeavyParticleWeaponBase" ParentName="BaseMakeableGun" Abstract="True"><recipeMaker><researchPrerequisite>Milira_HeavyParticleWeapon</researchPrerequisite><recipeUsers Inherit="false"><li>Milira_SunBlastFurnace</li></recipeUsers></recipeMaker><comps><li Class="CompProperties_Biocodable"/></comps><weaponTags><li>Milira_HeavyParticleWeapon</li></weaponTags><tradeability>None</tradeability></ThingDef><ThingDef ParentName="Milira_StandardParticleWeaponBase"><defName>Milira_ParticleRifle</defName><label>粒子步枪</label><description>能够快速发射粒子束的便携式发射器，可以充能。\n\n武器充能期间，粒子束的伤害和护甲穿透提升，并且会在命中时引发小范围爆炸。\n\n可以在普通模式和狙击模式之间切换。狙击模式下射程提升，连射次数降低。</description><graphicData><texPath>Milira/Weapon/ParticleRifle</texPath><graphicClass>Graphic_Single</graphicClass><drawSize>1.4</drawSize></graphicData><generateCommonality>1</generateCommonality><uiIconScale>1.2</uiIconScale><soundInteract>Interact_Rifle</soundInteract><statBases><WorkToMake>90000</WorkToMake><Mass>3.2</Mass><AccuracyTouch>0.62</AccuracyTouch><AccuracyShort>0.85</AccuracyShort><AccuracyMedium>0.72</AccuracyMedium><AccuracyLong>0.65</AccuracyLong><RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown><Ancot_WeaponMaxCharge>20</Ancot_WeaponMaxCharge><Ancot_WeaponChargeTick>120</Ancot_WeaponChargeTick><Ancot_EnergyWeaponCorrectionFactor>1</Ancot_EnergyWeaponCorrectionFactor></statBases><weaponTags><li>Milira_ParticleRifle</li></weaponTags><costList><Milira_SunPlateSteel>75</Milira_SunPlateSteel><Plasteel>50</Plasteel><ComponentSpacer>3</ComponentSpacer></costList><recipeMaker><skillRequirements><Crafting>12</Crafting></skillRequirements><displayPriority>415</displayPriority></recipeMaker><verbs><li><verbClass>AncotLibrary.Verb_ChargeShoot</verbClass><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MiliraBullet_ParticleRifle</defaultProjectile><warmupTime>1.8</warmupTime><range>37.9</range><burstShotCount>5</burstShotCount><ticksBetweenBurstShots>5</ticksBetweenBurstShots><soundCast>Milira_Shot_PlasmaRifle</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>3</muzzleFlashScale></li></verbs><tools><li><label>stock</label><capacities><li>Blunt</li></capacities><power>8</power><cooldownTime>1.7</cooldownTime></li><li><label>barrel</label><capacities><li>Blunt</li><li>Poke</li></capacities><power>6</power><cooldownTime>1.7</cooldownTime></li></tools><equippedStatOffsets><ShootingAccuracyPawn>6.0</ShootingAccuracyPawn></equippedStatOffsets><comps><li Class="AncotLibrary.CompProperties_RangeWeaponVerbSwitch"><gizmoOrder>0</gizmoOrder><gizmoLabel1>收束模式</gizmoLabel1><gizmoLabel2>扩散模式</gizmoLabel2><gizmoDesc1>切换到蓄能模式下发射爆炸离子束的扩散模式。</gizmoDesc1><gizmoDesc2>切换到蓄能模式下发射单体离子束的收束模式。</gizmoDesc2><aiInitialSwitchChance>0.3</aiInitialSwitchChance><verbProps><verbClass>AncotLibrary.Verb_ChargeShoot</verbClass><isPrimary>true</isPrimary><hasStandardCommand>true</hasStandardCommand><defaultProjectile>MiliraBullet_ParticleRifle</defaultProjectile><warmupTime>1.8</warmupTime><range>35.9</range><burstShotCount>5</burstShotCount><ticksBetweenBurstShots>5</ticksBetweenBurstShots><soundCast>Milira_Shot_PlasmaRifle</soundCast><soundCastTail>GunTail_Heavy</soundCastTail><muzzleFlashScale>6</muzzleFlashScale><ai_AvoidFriendlyFireRadius>3</ai_AvoidFriendlyFireRadius></verbProps></li><li Class="AncotLibrary.CompProperties_WeaponCharge"><projectileCharged>MiliraBullet_ParticleRifleCharged</projectileCharged><projectileCharged_Switched>MiliraBullet_ParticleRifleCharged_Switched</projectileCharged_Switched><chargeFireEffecter>Milira_ParticleChargeFire_Forward</chargeFireEffecter><chargeOnResetRatio>1.0</chargeOnResetRatio><resetTicks>1800</resetTicks><barColor>(0.86,0.87,0.70,0.8)</barColor></li></comps></ThingDef><ThingDef ParentName="BaseBullet"><defName>MiliraBullet_ParticleRifle</defName><label>粒子束</label><projectile><damageDef>Bullet</damageDef><damageAmountBase>15</damageAmountBase><armorPenetrationBase>0.12</armorPenetrationBase><stoppingPower>1.5</stoppingPower><speed>125</speed></projectile><graphicData><texPath>Milira/ProjectileNew/Bullet_Particle</texPath><graphicClass>Graphic_Single</graphicClass><shaderType>TransparentPostLight</shaderType></graphicData></ThingDef><ThingDef ParentName="BaseBullet"><defName>MiliraBullet_ParticleRifleCharged</defName><label>负载粒子束</label><thingClass>AncotLibrary.Projectile_Custom</thingClass><projectile><damageDef>Bullet</damageDef><damageAmountBase>24</damageAmountBase><armorPenetrationBase>0.16</armorPenetrationBase><stoppingPower>1.5</stoppingPower><speed>125</speed></projectile><graphicData><texPath>Milira/ProjectileNew/Bullet_ParticleCharged</texPath><graphicClass>Graphic_Single</graphicClass><shaderType>TransparentPostLight</shaderType></graphicData><modExtensions><li Class="AncotLibrary.Projectile_Custom_Extension"><impactEffecter>Milira_ParticleChargeHit</impactEffecter></li></modExtensions></ThingDef><ThingDef ParentName="BaseBullet"><defName>MiliraBullet_ParticleRifleCharged_Switched</defName><label>负载扩散粒子束</label><thingClass>AncotLibrary.Projectile_ExplosiveCustom</thingClass><projectile><damageDef>Milira_ParticleBomb</damageDef><explosionRadius>1</explosionRadius><damageAmountBase>24</damageAmountBase><armorPenetrationBase>0.2</armorPenetrationBase><stoppingPower>1.8</stoppingPower><speed>125</speed></projectile><graphicData><texPath>Milira/ProjectileNew/Bullet_ParticleExplode</texPath><graphicClass>Graphic_Single</graphicClass><shaderType>TransparentPostLight</shaderType></graphicData><modExtensions><li Class="AncotLibrary.Projectile_ExplosiveCustom_Extension"><impactEffecter>Milira_ParticleChargeHit</impactEffecter></li></modExtensions></ThingDef> --></Defs>