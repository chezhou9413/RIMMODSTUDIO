<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<ThingDef>
		<defName>Apparel_OgrynIronHelmet</defName>
		<label>欧戈金属头套</label>
		<description>为欧戈种族打造的坚固铁质头盔，采用金属、布料和玻璃钢制作，提供出色的头部防护。</description>

		<!-- 基本属性 -->
		<thingClass>Apparel</thingClass>
		<category>Item</category>
		<techLevel>Industrial</techLevel>
		<selectable>true</selectable>
		<drawerType>MapMeshOnly</drawerType>
		<useHitPoints>true</useHitPoints>
		<altitudeLayer>Item</altitudeLayer>
		<alwaysHaulable>true</alwaysHaulable>
		<drawGUIOverlay>true</drawGUIOverlay>
		<rotatable>false</rotatable>
		<pathCost>14</pathCost>

		<!-- 外观数据：使用现有头盔纹理 -->
		<graphicData>
			<texPath>Apparel/OgrynIronArmor/OgrynIronCase</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(1, 1)</drawSize>
			<color>(1,1,1,1)</color>
		</graphicData>

		<!-- 材料分类：支持金属和布料材料 -->
		<!-- 150个任意金属、100个任意布料或皮革、10个玻璃钢 -->
		<stuffCategories>
			<li>Metallic</li>
		</stuffCategories>
		<costStuffCount>150</costStuffCount>

		<!-- 固定材料列表：布料/皮革和玻璃钢 -->
		<costList>
			<Cloth>100</Cloth>
			<Plasteel>10</Plasteel>
		</costList>

		<!-- 配方制作器：自动生成配方 -->
		<recipeMaker>
			<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
			<workSkill>Crafting</workSkill>
			<effectWorking>Smith</effectWorking>
			<soundWorking>Recipe_Smith</soundWorking>
			<unfinishedThingDef>UnfinishedApparel</unfinishedThingDef>
			<recipeUsers>
				<li>FueledSmithy</li>
				<li>ElectricSmithy</li>
			</recipeUsers>
			<skillRequirements>
				<Crafting>5</Crafting>
			</skillRequirements>
			<researchPrerequisites>
				<li>OgrynMetalArmorForging</li>
			</researchPrerequisites>
			<displayPriority>240</displayPriority>
		</recipeMaker>

		<!-- 组件 -->
		<comps>
			<li>
				<compClass>CompQuality</compClass>
			</li>
			<li Class="CompProperties_Forbiddable" />
			<!-- 添加CompColorable组件以强制白色 -->
			<li>
				<compClass>CompColorable</compClass>
			</li>
			<!-- 禁用材料染色组件：强制使用装备定义的颜色 -->
			<li Class="OgrynRace.comp.CompProperties_DisableStuffColor" />
			<li Class="ChezhouLib.comp.ApparelAddBodyAddonCompProperties">
				<targetRaces>
					<li>Ogryn</li>
				</targetRaces>
				<bodyAddonHidden>
					<li>Ogryn_Hair_Adult</li>
					<li>Ogryn_Hairback_Adult</li>
				</bodyAddonHidden>
				<bodyAddonDefs>
					<li>
						<name>Ogryn_OgrynIronHelmet_Adult</name>
						<userCustomizable>true</userCustomizable>
						<linkVariantIndexWithPrevious>true</linkVariantIndexWithPrevious>
						<path>Apparel/OgrynIronArmor/OgrynIronCase</path>
						<colorChannel>apparel</colorChannel>
						<inFrontOfBody>true</inFrontOfBody>
						<layerInvert>false</layerInvert>
						<angle>0</angle>
						<drawSize>0.85</drawSize>
						<scaleWithPawnDrawsize>true</scaleWithPawnDrawsize>
						<defaultOffset>Center</defaultOffset>
						<alignWithHead>true</alignWithHead>
						<conditions>
							<BodyPart>
								<bodyPart>Head</bodyPart>
							</BodyPart>
							<Apparel />
							<Posture>
								<drawnStanding>true</drawnStanding>
								<drawnLaying>true</drawnLaying>
								<drawnInBed>true</drawnInBed>
							</Posture>
						</conditions>
						<offsets>
							<west>
								<layerOffset>-0.2825</layerOffset>
								<offset>(0, 0.154)</offset>
							</west>
							<south>
								<layerOffset>-0.2825</layerOffset>
								<offset>(0, 0.164)</offset>
							</south>
							<north>
								<layerOffset>-0.2825</layerOffset>
								<offset>(0, 0.164)</offset>
							</north>
							<east>
								<layerOffset>-0.2825</layerOffset>
								<offset>(0, 0.154)</offset>
							</east>
						</offsets>
					</li>
				</bodyAddonDefs>
			</li>
		</comps>

		<!-- 设置颜色生成器为固定白色 -->
		<colorGenerator Class="ColorGenerator_Single">
			<color>(1,1,1,1)</color>
		</colorGenerator>

		<!-- 其他属性 -->
		<tickerType>Never</tickerType>
		<burnableByRecipe>true</burnableByRecipe>
		<smeltable>false</smeltable>

		<!-- 基础属性 -->
		<statBases>
			<MaxHitPoints>650</MaxHitPoints>
			<WorkToMake>36000</WorkToMake>
			<Mass>2</Mass>
			<Flammability>0.5</Flammability>
			<DeteriorationRate>1</DeteriorationRate>
			<Beauty>10</Beauty>
			<EquipDelay>1.6</EquipDelay>
			<MarketValue>500</MarketValue>
			<!-- 护甲属性 -->
			<ArmorRating_Sharp>0.7</ArmorRating_Sharp>
			<ArmorRating_Blunt>0.7</ArmorRating_Blunt>
			<ArmorRating_Heat>0.2</ArmorRating_Heat>
			<!-- 材料效果乘数：控制材料对隔温和护甲的影响程度 -->
			<StuffEffectMultiplierArmor>0.35</StuffEffectMultiplierArmor>
			<StuffEffectMultiplierInsulation_Cold>0.7</StuffEffectMultiplierInsulation_Cold>
			<StuffEffectMultiplierInsulation_Heat>0.7</StuffEffectMultiplierInsulation_Heat>
		</statBases>

		<!-- 装备时的状态偏移 -->
		<equippedStatOffsets>
			<IncomingDamageFactor>-0.1</IncomingDamageFactor>
		</equippedStatOffsets>

		<!-- 物品分类 -->
		<thingCategories>
			<li>OgrynArmorCategory</li>
		</thingCategories>

		<!-- 交易标签 -->
		<tradeTags>
			<li>Armor</li>
			<li>OgrynExclusive</li>
		</tradeTags>

		<!-- 服装定义 -->
		<apparel>
			<!-- 身体部位组：覆盖整个头部包括眼睛、耳朵等 -->
			<bodyPartGroups>
				<li>FullHead</li>
				<li>Eyes</li>
			</bodyPartGroups>

			<!-- 穿戴层：夹层、外套和头饰 -->
			<layers>
				<li>Middle</li>
				<li>Shell</li>
				<li>Overhead</li>
			</layers>

			<wornGraphicPath>AlienRace/Ogryn/Null/Null</wornGraphicPath>

			<!-- 服装标签 -->
			<tags>
				<li>IndustrialMilitaryAdvanced</li>
				<li>OgrynArmor</li>
				<li>Armor</li>
			</tags>

			<!-- 其他设置 -->
			<canBeDesiredForIdeo>false</canBeDesiredForIdeo>
			<canBeGeneratedToSatisfyWarmth>true</canBeGeneratedToSatisfyWarmth>
			<canBeGeneratedToSatisfyToxicEnvironmentResistance>false</canBeGeneratedToSatisfyToxicEnvironmentResistance>
			<countsAsClothingForNudity>false</countsAsClothingForNudity>

			<!-- AI行为控制 -->
			<defaultOutfitTags>
				<li>Soldier</li>
			</defaultOutfitTags>

			<!-- 强制显示眼睛（某些角度） -->
			<forceEyesVisibleForRotations>
				<li>1</li>
				<li>2</li>
				<li>3</li>
			</forceEyesVisibleForRotations>
		</apparel>
	</ThingDef>
</Defs>
