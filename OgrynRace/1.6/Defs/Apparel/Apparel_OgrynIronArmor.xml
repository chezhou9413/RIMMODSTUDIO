<?xml version="1.0" encoding="utf-8" ?>
<Defs>

    <ThingDef>
        <defName>Apparel_OgrynIronArmor</defName>
        <label>欧戈金属板甲</label>
        <description>为欧戈种族打造的坚固金属板甲，采用金属、布料和玻璃钢制作，提供出色的全身防护。</description>

        <!-- 基本属性 -->
        <thingClass>Apparel</thingClass>
        <category>Item</category>
        <techLevel>Industrial</techLevel>
        <selectable>true</selectable>
        <drawerType>MapMeshOnly</drawerType>
        <useHitPoints>true</useHitPoints>
        <altitudeLayer>Item</altitudeLayer>
        <alwaysHaulable>true</alwaysHaulable>
        <drawGUIOverlay>true</drawGUIOverlay>
        <rotatable>false</rotatable>
        <pathCost>14</pathCost>

        <!-- 外观数据：使用现有板甲纹理 -->
        <graphicData>
            <texPath>Apparel/OgrynIronArmor/OgrynIronArmor</texPath>
            <graphicClass>Graphic_Multi</graphicClass>
            <drawSize>(1.5, 1.5)</drawSize>
            <color>(1,1,1,1)</color>
        </graphicData>
        <!-- 组件 -->
        <comps>
            <li>
                <compClass>CompQuality</compClass>
            </li>
            <li Class="CompProperties_Forbiddable" />
            <!-- 添加CompColorable组件以强制白色 -->
            <li>
                <compClass>CompColorable</compClass>
            </li>
            <!-- 禁用材料染色组件：强制使用装备定义的颜色 -->
            <li Class="OgrynRace.comp.CompProperties_DisableStuffColor" />
            <li Class="ChezhouLib.comp.ApparelAddBodyAddonCompProperties">
                <targetRaces>
                    <li>Ogryn</li>
                </targetRaces>
            </li>
        </comps>

        <!-- 设置颜色生成器为固定白色 -->
        <colorGenerator Class="ColorGenerator_Single">
            <color>(1,1,1,1)</color>
        </colorGenerator>
        <!-- 300个任意金属、200个任意布料或皮革、20个玻璃钢 -->
        <stuffCategories>
            <li>Metallic</li>
        </stuffCategories>
        <costStuffCount>300</costStuffCount>

        <!-- 固定材料列表：布料/皮革和玻璃钢 -->
        <costList>
            <Cloth>200</Cloth>
            <Plasteel>20</Plasteel>
        </costList>
        <!-- 配方制作器：自动生成配方，使用任意金属材料 -->
        <recipeMaker>
            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
            <workSkill>Crafting</workSkill>
            <effectWorking>Smith</effectWorking>
            <soundWorking>Recipe_Smith</soundWorking>
            <unfinishedThingDef>UnfinishedApparel</unfinishedThingDef>
            <recipeUsers>
                <li>FueledSmithy</li>
                <li>ElectricSmithy</li>
            </recipeUsers>
            <skillRequirements>
                <Crafting>5</Crafting>
            </skillRequirements>
            <researchPrerequisites>
                <li>OgrynMetalArmorForging</li>
            </researchPrerequisites>
            <displayPriority>250</displayPriority>
        </recipeMaker>

        <!-- 其他属性 -->
        <tickerType>Never</tickerType>
        <burnableByRecipe>true</burnableByRecipe>
        <smeltable>false</smeltable>

        <!-- 基础属性 -->
        <statBases>
            <MaxHitPoints>850</MaxHitPoints>
            <WorkToMake>72000</WorkToMake>
            <!-- 护甲属性 -->
            <ArmorRating_Sharp>0.7</ArmorRating_Sharp>
            <ArmorRating_Blunt>0.7</ArmorRating_Blunt>
            <ArmorRating_Heat>0.5</ArmorRating_Heat>
            <!-- 基础隔温值，材料会在此基础上增加 -->
            <Insulation_Cold>20</Insulation_Cold>
            <Insulation_Heat>20</Insulation_Heat>
            <!-- 材料效果乘数：控制材料对隔温和护甲的影响程度 -->
            <StuffEffectMultiplierArmor>0.8</StuffEffectMultiplierArmor>
            <StuffEffectMultiplierInsulation_Cold>0.7</StuffEffectMultiplierInsulation_Cold>
            <StuffEffectMultiplierInsulation_Heat>0.7</StuffEffectMultiplierInsulation_Heat>
            <Mass>2</Mass>
            <EquipDelay>1.6</EquipDelay>
            <Flammability>0</Flammability>
            <DeteriorationRate>1</DeteriorationRate>
            <Beauty>1</Beauty>
        </statBases>

        <!-- 装备时的状态偏移 -->
        <equippedStatOffsets>
            <IncomingDamageFactor>-0.1</IncomingDamageFactor>
        </equippedStatOffsets>

        <!-- 物品分类 -->
        <thingCategories>
            <li>OgrynArmorCategory</li>
        </thingCategories>

        <!-- 交易标签 -->
        <tradeTags>
            <li>Armor</li>
        </tradeTags>

        <!-- 服装定义 -->
        <apparel>
            <!-- 身体部位组：覆盖躯干、腰部、颈部、肩膀、手臂、腿部、手部、足部 -->
            <bodyPartGroups>
                <li>Torso</li>
                <li>Waist</li>
                <li>Neck</li>
                <li>Shoulders</li>
                <li>Arms</li>
                <li>Legs</li>
                <li>Hands</li>
                <li>Feet</li>
            </bodyPartGroups>

            <!-- 穿戴层：夹层和贴身层 -->
            <layers>
                <!-- <li>OnSkin</li> -->
                <li>Middle</li>
				<li>Shell</li>
            </layers>

            <wornGraphicPath>Apparel/OgrynIronArmor/OgrynIronArmor</wornGraphicPath>

            <!-- 禁用图形遮罩，防止材料颜色影响 -->
            <useWornGraphicMask>false</useWornGraphicMask>

            <!-- 服装标签（用于AI识别与生成） -->
            <tags>
                <li>IndustrialMilitaryAdvanced</li>
                <li>OgrynArmor</li>
                <li>Armor</li>
            </tags>

            <!-- 其他设置 -->
            <canBeDesiredForIdeo>false</canBeDesiredForIdeo>
            <canBeGeneratedToSatisfyWarmth>true</canBeGeneratedToSatisfyWarmth>
            <canBeGeneratedToSatisfyToxicEnvironmentResistance>false</canBeGeneratedToSatisfyToxicEnvironmentResistance>
            <countsAsClothingForNudity>true</countsAsClothingForNudity>

            <!-- AI行为控制：防止自动脱下 -->
            <defaultOutfitTags>
                <li>Soldier</li>
            </defaultOutfitTags>
        </apparel>

    </ThingDef>
</Defs>
