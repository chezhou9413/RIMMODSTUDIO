<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<ThingDef>
		<defName>Apparel_OgrynSentinelArmor</defName>
		<label>欧戈近卫板甲</label>
		<description>为欧戈近卫打造的轻质高防护板甲。制作材料会影响其隔温性能。</description>

		<!-- 基本属性 -->
		<thingClass>Apparel</thingClass>
		<category>Item</category>
		<techLevel>Industrial</techLevel>
		<selectable>true</selectable>
		<drawerType>MapMeshOnly</drawerType>
		<useHitPoints>true</useHitPoints>
		<altitudeLayer>Item</altitudeLayer>
		<alwaysHaulable>true</alwaysHaulable>
		<drawGUIOverlay>true</drawGUIOverlay>
		<rotatable>false</rotatable>
		<pathCost>14</pathCost>
        <stuffCategories>
            <li>Metallic</li>
        </stuffCategories>
        <costStuffCount>500</costStuffCount>

        <!-- 固定材料列表：布料/皮革和玻璃钢 -->
        <costList>
            <Cloth>200</Cloth>
            <Plasteel>20</Plasteel>
        </costList>
		<recipeMaker>
			<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
			<workSkill>Crafting</workSkill>
			<effectWorking>Smith</effectWorking>
			<soundWorking>Recipe_Smith</soundWorking>
			<unfinishedThingDef>UnfinishedApparel</unfinishedThingDef>
			<recipeUsers>
				<li>FabricationBench</li>
			</recipeUsers>
			<skillRequirements>
				<Crafting>5</Crafting>
			</skillRequirements>
			<researchPrerequisites>
				<li>OgrynArmorForging</li>
			</researchPrerequisites>
			<displayPriority>250</displayPriority>
		</recipeMaker>
		<!-- 外观数据：设置固定白色避免材料染色 -->
		<graphicData>
			<texPath>Apparel/OgrynSentinelArmor/OgrynSentinelArmor</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(1.5, 1.5)</drawSize>
			<color>(1,1,1,1)</color>
		</graphicData>

		<!-- 组件 -->
		<comps>
			<li>
				<compClass>CompQuality</compClass>
			</li>
			<li Class="CompProperties_Forbiddable" />
			<!-- 添加CompColorable组件以强制白色 -->
			<li>
				<compClass>CompColorable</compClass>
			</li>
			<!-- 禁用材料染色组件：强制使用装备定义的颜色 -->
			<li Class="OgrynRace.comp.CompProperties_DisableStuffColor" />
			<li Class="ChezhouLib.comp.ApparelAddBodyAddonCompProperties">
				<targetRaces>
					<li>Ogryn</li>
				</targetRaces>
			</li>
		</comps>

		<!-- 设置颜色生成器为固定白色 -->
		<colorGenerator Class="ColorGenerator_Single">
			<color>(1,1,1,1)</color>
		</colorGenerator>

		<!-- 其他属性 -->
		<tickerType>Never</tickerType>
		<burnableByRecipe>true</burnableByRecipe>
		<smeltable>false</smeltable>

		<!-- 基础属性 -->
		<statBases>
			<MaxHitPoints>950</MaxHitPoints>
			<ArmorRating_Sharp>0.85</ArmorRating_Sharp>
			<ArmorRating_Blunt>0.85</ArmorRating_Blunt>
			<ArmorRating_Heat>0.4</ArmorRating_Heat>
			<!-- 基础隔温值，材料会在此基础上增加 -->
			<Insulation_Cold>20</Insulation_Cold>
			<Insulation_Heat>20</Insulation_Heat>
			<!-- 材料效果乘数：控制材料对隔温的影响程度 -->
			<StuffEffectMultiplierArmor>0.85</StuffEffectMultiplierArmor>
			<StuffEffectMultiplierInsulation_Cold>0.8</StuffEffectMultiplierInsulation_Cold>
			<StuffEffectMultiplierInsulation_Heat>0.8</StuffEffectMultiplierInsulation_Heat>
			<Mass>8</Mass>
			<EquipDelay>3</EquipDelay>
			<Flammability>0.4</Flammability>
			<DeteriorationRate>2</DeteriorationRate>
			<Beauty>15</Beauty>
			<WorkToMake>144,000</WorkToMake>
			<MarketValue>1200</MarketValue>
		</statBases>
		<equippedStatOffsets>
			<IncomingDamageFactor>-0.25</IncomingDamageFactor>
		</equippedStatOffsets>
		<!-- 物品分类 -->
		<thingCategories>
			<li>OgrynArmorCategory</li>
		</thingCategories>

		<!-- 交易标签 -->
		<tradeTags>
			<li>Armor</li>
		</tradeTags>

		<!-- 服装定义 -->
		<apparel>
			<!-- 身体部位组（使用标准身体部位组，与Ogryn种族BodyDef一致） -->
			 <bodyPartGroups>
                <li>Torso</li>
                <li>Waist</li>
                <li>Neck</li>
                <li>Shoulders</li>
                <li>Arms</li>
                <li>Legs</li>
                <li>Hands</li>
                <li>Feet</li>
            </bodyPartGroups>

			<!-- 穿戴层：使用Middle+Shell层，与原版板甲一致 -->
			<layers>
				<li>Middle</li>
				<li>Shell</li>
			</layers>

			<wornGraphicPath>Apparel/OgrynSentinelArmor/OgrynSentinelArmor</wornGraphicPath>

			<!-- 禁用图形遮罩，防止材料颜色影响 -->
			<useWornGraphicMask>false</useWornGraphicMask>

			<!-- 服装标签（用于AI识别与生成） -->
			<tags>
				<li>IndustrialMilitaryAdvanced</li>
				<li>OgrynArmor</li>
				<li>Armor</li>
			</tags>

			<!-- 其他设置 -->
			<canBeDesiredForIdeo>false</canBeDesiredForIdeo>
			<canBeGeneratedToSatisfyWarmth>true</canBeGeneratedToSatisfyWarmth>
			<canBeGeneratedToSatisfyToxicEnvironmentResistance>false</canBeGeneratedToSatisfyToxicEnvironmentResistance>
			<countsAsClothingForNudity>true</countsAsClothingForNudity>

			<!-- AI行为控制：防止自动脱下 -->
			<defaultOutfitTags>
				<li>Soldier</li>
			</defaultOutfitTags>
		</apparel>

	</ThingDef>
</Defs>
